# UniversalDB - 通用数据库管理系统

## 1. 项目简介

**UniversalDB** 是一个基于C++命令行界面的轻量级通用数据库管理系统。

### 解决的问题：
- 支持常见的数据库操作（增删改查、排序、统计）
- 实现数据持久化存储和加载

## 2. 主要功能说明

### 基础功能：
- **表结构管理**：动态创建数据表，自定义列名和数据类型
- **数据操作**：
  - 插入新记录（支持主键唯一性检查）
  - 查看所有记录（格式化表格显示）
  - 基于列的数据排序（支持升序/降序）
- **持久化存储**：
  - 保存数据到本地文件（使用'|'分隔符）
  - 从文件加载数据并恢复表结构

### 高级功能：
- **智能模糊搜索**：使用Levenshtein距离算法实现容错搜索
- **数据分析**：对数值列进行统计分析（总和、平均值、最大/最小值等）
- **数据验证**：自动检测和处理非法字符输入

## 3. 项目目录结构

```
UniversalDB/
├── UniversalDB.h          # 主头文件 - 类声明和宏定义
├── UniversalDB.cpp        # 实现文件 - 核心功能实现
├── main.cpp              # 主程序入口 - 用户交互界面
├── data.txt              # 默认数据存储文件（运行时生成）
└── README.md             # 项目说明文档
```

### 关键文件说明：

1. **UniversalDB.h**
   - 定义`UniversalDB`主类和辅助类`DataProcessor`
   - 包含常量定义（文件名、分隔符等）
   - 声明所有公共接口方法

2. **UniversalDB.cpp**
   - 实现数据库核心功能
   - 包含数据持久化逻辑
   - 实现模糊搜索算法
   - 数据验证和处理逻辑

3. **main.cpp**
   - 提供命令行用户界面
   - 显示操作菜单
   - 处理用户输入并调用相应功能

## 4. 构建与运行方式

### 项目结构：
```
UniversalDB/
├── include/
│   └── UniversalDB.h          # 头文件
├── src/
│   ├── UniversalDB.cpp        # 核心实现文件
│   └── main.cpp              # 主程序入口
├── CMakeLists.txt            # CMake配置文件
├── README.md                 # 项目说明文档
└── data.txt                  # 数据文件（运行时生成）
```

### 构建步骤：

**Windows（使用Visual Studio）:**
```
mkdir build
cd build
cmake
```

### 使用示例：

程序启动后，将显示交互式菜单：
```
=== UniversalDB 菜单 ===
1. 创建新表
2. 插入记录
3. 显示所有记录
4. 模糊搜索
5. 保存到文件
6. 从文件加载
7. 排序
8. 数据分析
0. 退出
请选择操作：
```

### 注意事项：
- 首次使用需要先创建表结构或加载现有数据文件
- 数据文件默认保存为`data.txt`，使用'|'作为字段分隔符
- 主键字段（第一列）必须唯一
- 模糊搜索的容错度自动根据关键词长度调整
